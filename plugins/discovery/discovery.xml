<?xml version="1.0"?>
<plugin xmlns:l="http://github.com/vhotspur/sxmloc">
	<name><l:g>Discovery dates</l:g></name>
	<id>discovery</id>

	<board>
		<l:g>Elements known before 
			<span id="p-discovery-label-year">1700</span></l:g>
		<div id="p-discovery-ctrl-year"></div>
	</board>

	<resume>
		$("#p-discovery-ctrl-year").slider("value", $("#p-discovery-ctrl-year").slider("value"));
	</resume>

	<init>
		// initialize the controls
                $("#p-discovery-ctrl-year").slider({
                        max: 2010,
                        min: 1600,
                        slide: $.proxy(this.onSlide, this),
                        change: $.proxy(this.onSlide, this)
                });
                $("#p-discovery-ctrl-year").slider("value", 2010);
	</init>

	<method name="onSlide" parameters="event, ui">
		$("#p-discovery-label-year").text(ui.value);
                this.pte.clearHighlighting();
                this.pte.forEachElement(this.pte, function(pte, elem) {
                        if (elem.wasDiscoveredBefore(ui.value)) {
                                pte.highlightElement(elem);
                        }
                });
                return true;
	</method>
</plugin>

